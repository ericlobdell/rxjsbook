{"version":3,"sources":["ch1.js","ch2.js","earthquake_viz.js"],"names":[],"mappings":"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","file":"all.js","sourcesContent":["/// <reference path=\"../../Scripts/rx.all.js\" />\r\n\r\nvar a = Rx.Observable.interval( 2000 )\r\n    .map( x => 'A' + x );\r\n\r\nvar b = Rx.Observable.interval( 2000 )\r\n    .map( x => 'B' + x );\r\n\r\n//Rx.Observable.merge( a, b )\r\n//    .subscribe( x => console.log( x ) );\r\n\r\nvar avg = Rx.Observable.interval( 1000 )\r\n    .scan(( prev, curr ) => {\r\n        return {\r\n            sum: prev.sum + curr,\r\n            count: prev.count + 1\r\n        }\r\n    }, { sum: 0, count: 0 } )\r\n    .map( x => x.sum / x.count );\r\n\r\n//var sub = avg.subscribe( x => console.log( `Average is ${x}` ) );\r\n\r\nfunction concatAll( source ) {\r\n    return source.reduce(( a, b ) => a.concat( b ) );\r\n}\r\n\r\nvar flattened = concatAll( [[1, 2, 3], [45, 678, 9], ['a', 'b']] );\r\nconsole.log( flattened );\r\n\r\n\r\n\r\n\r\n","/// <reference path=\"../../Scripts/rx.all.js\" />\r\n\r\n// Subject\r\n\r\n//var subject = new Rx.Subject();\r\n//var source = Rx.Observable.interval( 300 )\r\n//    .map( v => `Interval message #${v}` )\r\n//    .take( 5 );\r\n\r\n//source.subscribe( subject );\r\n//var sub = subject.subscribe(\r\n//    ( x ) => console.log( `onNext ${x}` ),\r\n//    ( e ) => console.log( `onError ${e.message}` ),\r\n//    () => console.log( \"onCompleted\" )\r\n//    );\r\n\r\n//subject.onNext( \"Our message 1\" );\r\n//subject.onNext( \"Our message 2\" );\r\n\r\n//setTimeout(() => subject.onCompleted(), 1000 );\r\n\r\n\r\n\r\n// AsyncSubject\r\n\r\n//var delayedRange = Rx.Observable.range( 0, 5 ).delay( 1000 );\r\n//var subject = new Rx.AsyncSubject();\r\n\r\n//delayedRange.subscribe( subject );\r\n\r\n//subject.subscribe(\r\n//    ( x ) => console.log( `Value ${x}` ),\r\n//    ( e ) => console.log( `Error ${e.message}` ),\r\n//    () => console.log( \"Completed\" )\r\n//    );\r\n\r\n// BehaviorSubbject\r\nvar subject = new Rx.BehaviorSubject( \"Waiting for content\" );\r\nsubject.subscribe(\r\n    ( x ) => console.log( `Result ${x}` ),\r\n    ( e ) => console.log( `Error: ${e.message}` ),\r\n    () => console.log( \"Completed\" )\r\n    );\r\n\r\nvar service = Rx.Observable.from( [1, 2, 3, 4, 5], ( n ) => n * n  );\r\n\r\nservice.subscribe( subject );\r\n","/// <reference path=\"../../Scripts/rx.dom.js\" />\r\n/// <reference path=\"../../Scripts/rx.all.js\" />\r\n/// <reference path=\"../../Scripts/leaflet/leaflet.js\" />\r\n\r\nvar QUAKE_URL = \"http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_day.geojsonp\";\r\n\r\nfunction loadJSONP( url ) {\r\n    let script = document.createElement( \"script\" );\r\n    script.src = url;\r\n\r\n    let head = document.getElementsByTagName( \"head\" )[0];\r\n    head.appendChild( script );\r\n\r\n\r\n}\r\n\r\nvar map = L.map( 'map' ).setView( [33.858631, -118.279602], 7 );\r\nL.tileLayer( 'http://{s}.tile.osm.org/{z}/{x}/{y}.png' ).addTo( map );\r\n\r\nvar quakes = Rx.Observable\r\n    .interval( 5000 )\r\n    .flatMap(() => {\r\n        return Rx.DOM.jsonpRequest( {\r\n            url: QUAKE_URL,\r\n            jsonpCallback: 'eqfeed_callback'\r\n        } ).retry( 3 );\r\n    } )\r\n    .flatMap( data => Rx.Observable.from( data.response.features ) )\r\n    .distinct( q => q.properties.code );\r\n\r\nquakes.subscribe( quake => {\r\n    let coords = quake.geometry.coordinates;\r\n    let size = quake.properties.mag * 10000;\r\n    L.circle( [coords[1], coords[0]], size ).addTo( map );\r\n} );"],"sourceRoot":"/source/"}